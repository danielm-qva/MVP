<ngx-loading-x [show]="isloading"> </ngx-loading-x>

<button class="btn btn-success btn-xs mr-1 ml-1" [routerLink]="['/infraes', 'addmetrologia' ]">
    <i class="fa fa-plus"></i> Agregar
  </button>

<table class="table mt-2">
    <thead class="thead-light">
      <tr>
        <th scope="col">Punto Control</th>
        <th scope="col">Variable Controlada</th>
        <th scope="col">Instrumento</th>
        <th scope="col">Importe</th>
        <th scope="col">Importe de Verificacion</th>
        <th scope="col">Gasto Total</th>
        <th class="col-3" scope="col">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let i of listElemtos">
        <td>{{i.name}}</td>
        <td>{{i.variable_to_control}}</td>
        <td>{{i.instrument}}</td>
        <td>{{  i.total_amount.amount }}</td>
        <td>{{i.annual_cost_verification.amount}}</td>
        <td>{{i.annual_total_expense.amount}}</td>
        <td>
          <button (click)="delte(i.id)" class="btn btn-danger btn-sm mr-1 ml-1">
            <i class="fa fa-trash"></i>
          </button>
          <button class="btn btn-info btn-sm mr-1 ml-1"
            [routerLink]="['/infraes/updateMetrologia', i.id] ">
            <i class="fa fa-history"></i>
          </button>
          <button (click)="detalles_Metrologia(i.id , longContent)" class="btn btn-warning btn-sm mr-1 ml-1"
        >
          <i class="fa fa-archive"></i>
        </button>
  
  
        </td>
      </tr>
  
    </tbody>
  </table>
  

  <ng-template #longContent let-modal>
    <div class="modal-header">
      <h4 class="modal-title">Detalles </h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div *ngFor="let item of detalles">
        <h2>Nombre :{{item.name}}</h2>
        <ul>
          <li>Variable Control : {{item.variable_to_control}}</li>
          <li>Instrumento : {{item.instrument}}</li>
          <li>Precision : {{item.precision}}</li>
          <li>Cantidad : {{item.quantity}}</li>
          <li>Empleo en Proceso : {{item.dedicated_percentage}}</li>
           <li>Precio : {{item.price_per_unit.amount}}</li>
          <li>Vida Util : {{item.useful_life_years}}</li>
          <li>Frecuencia Verificacion : {{item.verification_frequency_months}}</li>
          <li>Precio Verificacion : {{item.price_per_verification.amount}}</li>
          <li>Ejecuto Verificacion : {{item.executor}}</li> 
          
          
        </ul>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Close</button>
    </div>
  </ng-template>
